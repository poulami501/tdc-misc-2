<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
    <HEAD>
        <TITLE> Presentation Canvas </TITLE>
        <META NAME="Generator" CONTENT="Microsoft FrontPage 4.0">
            <META NAME="Author" CONTENT="">
                <META NAME="Keywords" CONTENT="">
                    <META NAME="Description" CONTENT="">
                        <meta http-equiv="X-UA-Compatible" content="chrome=1">
                            <meta name="viewport" content="width=device-width, initial-scale=1.28, maximum-scale=1.28, user-scalable=no">
                                <script type="text/javascript" src="lps/includes/embed-compressed.js">
                                    </script>
                                  <link rel="stylesheet" href="lps/style_mozilla.css" type="text/css" /> 
								  <!--  <script type="text/javascript"src="lps/jquery.min.js"></script>
								  <script type="text/javascript" src="lps/jquery.magnifier.js"></script>-->
                                <script type="text/javascript"src="lps/jquery-1.7.2.min.js"></script>
								<script type="text/javascript" src="lps/jquery.magnifier.js"></script>
								<script type="text/javascript" src="lps/jquery.blockUI.js"></script>
                                <script type="text/javascript" charset="utf-8" src="cordova-1.8.1.js"></script>
                                
                                <script type="text/javascript" charset="utf-8" src="DelegatePlugin.js"></script>
                                
                                <!--[if lt IE 9]><script type="text/javascript" src="lps/includes/excanvas.js"></script><![endif]-->
                                <SCRIPT SRC="includes/embed.js" type="text/javascript">
                                    </SCRIPT>
                                <style title="mystyle" type="text/css" rel="stylesheet">
                                    html, body
                                    {
                                        /* http://www.quirksmode.org/css/100percheight.html */
                                        height: 100%;
                                        /* prevent browser decorations */
                                        margin: 0;
                                        padding: 0;
                                        border: 0 none;
                                    }
                                    body {
                                        background-color: #6691b4;
                                    }
                                    img { border: 0 none; }
                                    </style>
                                <script type="text/javascript">
                                    var gTransX;
									var gTransY;
                                   /* $(document).ready(function () {
                                                      
                                                      $("iframe.sample").load(function(){
                                                                              console.log("iFrame Loaded");
                                                                              });
                                                      });
                                    */
                                    /*
                                     function sendRequest(method,xml,action){
                                     alert(xml);
                                     var jsonObj = ['{"method" : "login", "xml_string" :"'+xml+'","class_name" : "PS"}'];
                                     
                                     //   var jsonObj = ['{"method" : "save", "xml_string" :"'+xml+'","class_name" : "PS"}'];
                                     
                                     /*     DelegatePlugin.prototype.LOGIN (
                                     jsonObj,
                                     function(result)
                                     {
                                     //  alert(result.time);
                                     //  console.log("result callback" + result.time);
                                     
                                     setResponse(result);
                                     alert(" It's alive");
                                     },
                                     function(error)
                                     {
                                     console.log(error);
                                     }
                                     
                                     );
                                     }
                                     
                                     */
                                    function checkResponse(arg1,arg2,arg3){
                                        alert("inside checkResponse arg1="+arg1+" arg2="+arg2+" arg3="+arg3);
                                    }
                                    
                                    var frameCalled = false;
                                    
                                    function setFrameSource(filepath){
                                        console.log("$$$$$$$$"+filepath);
                                        /*
                                        var s = document.getElementsByName("htmlwigetframe");
                                        console.log("S : "+s);
                                        console.log("S.length : "+s.length);
                                        for(i=0;i<s.length;i++)
                                        {
                                            console.log(s[i]);
                                        }
                                        
                                        s[0].setAttribute("src",filepath)
                                        */
                                        alert("Frame Called "+frameCalled);
                                        if(!frameCalled){
											alert("Iframe :"+$("iframe").length);
											
											$("iframe").attr("src",filepath);
											frameCalled = true;
                                            alert("True");
										}
										
                                        //$('iframe').height(200);
                                        //$('iframe').width(800);
                                        //$("iframe").css({'height':'200px','width':'800px'});
                                        //$("iframe").addClass("sample");
                                        //$("iframe").translate(tranX, tranY);

                                       //s[0].frames[0].translate(tranX, tranY);
                                       // $("iframe").onload = function() {
                                         //   alert("iFrame onLoad");
											lz.embed.setCanvasAttribute("TEItemLoaded",true);
										//};
                                        
                                    }
                                    
                                    /*

                                    function setFrameSource(filepath,tranX,tranY){
                                        alert(filepath+tranX+tranY);
                                        var s = document.getElementsByName("htmlwigetframe");
                                        s[0].setAttribute("src",filepath);
                                        document.getElementById('TEframeId').contentWindow.translate(tranX, tranY);
                                        lz.embed.setCanvasAttribute("TEItemLoaded", true);
                                    }
                                    
                                     */

                                    
                                    /*
                                    function setFrameSource(filepath,tranX,tranY){
                                        alert(filepath+tranX+tranY);
                                        var jsCode = "function translate(scaleX, scaleY) {var tranX = (scaleX-1)*50, tranY = (scaleY-1)*50; var tr = "translate("+tranX+"%, "+tranY+"%) scale("+scaleX+", "+scaleY+")";	$("body").css({"-webkit-transform": tr,	"transform": tr	});	}";
                                        
                                        var s = document.getElementsByName("htmlwigetframe");
                                        s[0].setAttribute("src",filepath);
                                        var iframe = document.getElementById('TEframeId');
                                        var doc = iframe.contentDocument;
                                        var scriptEl = doc.createElement('script');
                                        scriptEl.text = jsCode;
                                        doc.body.appendChild(scriptEl);
                                        console.log(doc.firstChild);
                                        
                                        document.getElementById('TEframeId').contentWindow.translate(tranX, tranY);
                                        lz.embed.setCanvasAttribute("TEItemLoaded", true);
                                    }
                                    */
                                    /*
                                    function setFrameSource(filepath,tranX,tranY){
                                        alert(filepath+tranX+tranY);
                                       
                                        tranX=1.28;
                                        tranY=1.28;
                                        
                                        var s = document.getElementById('TEframeId');
                                        s.setAttribute("src",filepath);
                                        var iframe = document.getElementById('TEframeId');
                                        if(iframe){
                                            
                                            iframe.contentWindow.translate(tranX, tranY);
                                        }
                                        lz.embed.setCanvasAttribute("TEItemLoaded", true);
                                        
                                        
                                    }
                                    */
                                    
                                    
                                    /*function setFrameSource(filepath,tranX,tranY){
                                        alert(filepath+tranX+tranY);
                                        
                                        tranX=1.28;
                                        tranY=1.28;
                                        
                                        var s = document.getElementById('TEframeId');
										alert(s);
                                        s.setAttribute("src",filepath);
										alert(s);
                                        var iframe = document.getElementById('TEframeId');
										alert(iframe);
                                        if(iframe){
											alert("inside if");
                                            iframe.contentWindow.translate(tranX, tranY);
                                        }
                                        lz.embed.setCanvasAttribute("TEItemLoaded", true);
                                        
                                        
                                    }*/
                                    
                                    function sendRequest(method,xml,action){
                                       // alert("hi");
                                        console.log("method : "+method+", xml_string :"+xml+",class_name: "+action);
                                        //    var jsonObj = ['{"method" : "login", "xml_string" :"'+xml+'","class_name" : "PS"}'];
                                        var jsonObj = ['{"method" : "'+method+'", "xml_string" :"'+xml+'","class_name" : "'+action+'"}'];
                                        DelegatePlugin.prototype.LOGIN (jsonObj);
                                        //SetResponse();
                                    }
                                    
                                    
                                    function ping(){
                                        var method="login";
                                        var xml = "xml";
                                        // Android.doRequest(method,xml);
                                    }
                                    
                                    /*
                                     function setMyResponse(result){
                                     
                                     // lz.embed.setCanvasAttribute("response", result.time);
                                     //alert("Setting Response from html");
                                     lz.embed.setCanvasAttribute("response", result);
                                     
                                     
                                     }
                                     */
                                    
                                    </script>
                                
                                
                                <SCRIPT LANGUAGE="JavaScript">
                                  /*
                                    function showFootnote(header)
                                    {
                                        alert(header);
                                        lzSetCanvasAttribute("footnotedata", header);
                                        //lz.setCanvasAttribute("footnotedata", header);
                                    }
                                   */
                                    
                                    function showFootnote(header)
                                    {
                                        lz.embed.setCanvasAttribute("footnotedata", header);
                                    }
                                    
                                    function isMac(){
                                        return (window.navigator.platform.indexOf("Mac") != -1);
                                    }
                                    
                                    function closeBrowser()
                                    {
                                        if(isMac()){
                                            window.close();
                                        }
                                        else{
                                            LDBJSBridgeCTL.closeLockdownBrowser();
                                        }
                                    }
                                    
                                    
                                    function swfCallback(isPlaying, id) {
                                        var attr = 'isMultiAudio=true,isPlaying='+isPlaying+',audioId='+id;
                                        lzSetCanvasAttribute('isMultiAudio',attr);
                                    }
                                    
                                    function updateLDB(){
                                        _LDB_BypassSetFocusOnPageLoad = 1;
                                    }
                                    
                                    //function sendRequest(method,xml,action){
                                    //	alert("button clicked"+method+xml+action);
                                    //}
                                    
                                    function checkStop(arg1,arg2,arg3){
                                       // alert("inside checkStop arg1="+arg1+" arg2="+arg2+" arg3="+arg3);
                                    }                                   
                                    
                                    function setResponse(result) {
                                        
                                        lz.embed.setCanvasAttribute("response",result);
                                    }
                                    
                                    function buttonClicked(obj){
										document.getElementById('mybutton').click();
										 /*var intId = setInterval(abc,50);
										 
										 function abc(){
										var ids = [];
									    $("#appcontainer").find("div").each(function(){
									    	if(this.id == "loginScreenId"){
									        	ids.push(this);
									        }
									    });
									
									    var x = ids[ids.length-1];
										x.parentNode.removeChild(x);
									    clearInterval(intId);  
									}*/
									}
									
									function blockiPADUI(){
										console.log("block!!!!!");
										$.blockUI();
									}
									
									function unblockiPADUI () {
										console.log("unblock!!!!!");
  										$.unblockUI();
  									}
									
									function closeMagnifier(){
									  var olddiv = document.getElementById('mglass');
									  if (olddiv && olddiv.parentNode && olddiv.parentNode.removeChild)
										olddiv.parentNode.removeChild(olddiv);
									}
									
                                    
                                    
                                    </SCRIPT>
<SCRIPT LANGUAGE="JavaScript">
<!--
var _LDB_BypassSetFocusOnPageLoad = 0;
var spText;
var fontAccom;
var backColorString;
var itemSet = false;
var ansSet = false;
var readable = false;
var iid = null;

function checkVals(arg1,arg2,arg3){
	// alert("inside checkVals "+arg1+arg2+arg3);
}

function checkQues(arg1,arg2,arg3){
	// alert("inside checkQues "+arg1+arg2+arg3);
}

function iframeState(){
   	var iframe = document.getElementById('__lz0');
   	
   	if(iframe){
		if (navigator.userAgent.indexOf("MSIE") > -1 && !window.opera) {
		  iframe.onreadystatechange = function(){
		    if (iframe.readyState == "complete"){
		      	setAnswerNow('complete');
		 		var fontObj = getFontAccomodation();	
		 		var bgColorObj = getBackColorAccomodation();				    	
		    	if(fontObj.hasFont == 'true'){
		    		if(fontObj.hasFontMag == 'true'){
		    			document.getElementById('__lz0').contentWindow.accomPkg.setVisualAccessFeatures(fontObj.fgcolor, '18px',bgColorObj);
		    		}
		    		else {
		    			document.getElementById('__lz0').contentWindow.accomPkg.setVisualAccessFeatures(fontObj.fgcolor, '12px',bgColorObj);
		    		}
		    	}else{
		    		document.getElementById('__lz0').contentWindow.accomPkg.setVisualAccessFeatures('', '12px',bgColorObj);
		    	}			    	
		      	document.getElementById('__lz0').contentWindow.translate(xscalefactorjs,yscalefactorjs);
		    }
		  };
		} else {
		  iframe.onload = function(){
		    setAnswerNow('complete');
		    
     		var fontObj = getFontAccomodation();	
     		var bgColorObj = getBackColorAccomodation();				    	
     		
	    	if(fontObj.hasFont == 'true'){
	    		if(fontObj.hasFontMag == 'true'){
	    			document.getElementById('__lz0').contentWindow.accomPkg.setVisualAccessFeatures(fontObj.fgcolor, '18px',bgColorObj);
	    		}
	    		else {
	    			document.getElementById('__lz0').contentWindow.accomPkg.setVisualAccessFeatures(fontObj.fgcolor, '12px',bgColorObj);
	    		}
	    		//document.getElementById('__lz0').contentWindow.accomPkg.setVisualAccessFeatures(fontObj.fgcolor, '18px',bgColorObj);
	    		//lz.embed.setCanvasAttribute('hasfontaccom',true);
	    	}else{
	    		document.getElementById('__lz0').contentWindow.accomPkg.setVisualAccessFeatures('', '12px',bgColorObj);
	    		//lz.embed.setCanvasAttribute('hasfontaccom',false);
	    	}
		  };
		}
	}
}

function checkHtml(arg1,arg2){
	// alert(arg1+arg2);
}

function destroyDiv(divElem) {
     var div = document.getElementById(divElem);
     if(div != null)
     	div.parentNode.removeChild(div);
}
 
function setAnswerNow(args){
	lz.embed.setCanvasAttribute('setanswer',args);
}
function freezeUI(){
if(document.getElementById('__lz0')){
		document.getElementById('__lz0').contentWindow.freezeUI();
	}
}

function unlockUI(){
if(document.getElementById('__lz0')){
		document.getElementById('__lz0').contentWindow.unlockUI();
	}
}
function getFontAccomodation(){
	var fontAccom = lz.embed.lzapp.getCanvasAttribute('fontString');
	fontAccom = fontAccom.split("|");
	var fontObj = new Object();
	fontObj.hasFont = fontAccom[0];
	fontObj.bgcolor = fontAccom[1].replace('0x', '#');
	fontObj.fgcolor = fontAccom[2].replace('0x', '#');
	fontObj.hasFontMag = fontAccom[3];
	return fontObj;
}

function getBackColorAccomodation(){
	var backColorString = lz.embed.lzapp.getCanvasAttribute('backColorString');
	backColorString = backColorString.split("|");
	var bgColorObj = new Object();
	bgColorObj.stemArea = backColorString[0].replace('0x', '#');
	bgColorObj.responseArea = backColorString[1].replace('0x', '#');
	return bgColorObj;
}
function setFootnoteText(arg){
	lz.embed.setCanvasAttribute('footnotetext',arg);
}

function isAnswered(){
  var elem = document.getElementById('__lz0');
 	if(elem){
 	if(elem.contentWindow.accomPkg)
  	return elem.contentWindow.accomPkg.isItemAnswered();
 }        	
  }
  
  function getState(){
   var elem = document.getElementById('__lz0');
  if(elem){
  		if(elem.contentWindow.accomPkg)
  		return document.getElementById('__lz0').contentWindow.accomPkg.getState();
  	}        
  }
  
  function setState(htmlContent,jsonContent,checkedVals){
  	var elem = document.getElementById('__lz0');
  	if(elem){	
      if(elem.contentWindow){
      		
      		if(document.getElementById('__lz0').contentWindow.accomPkg && ansSet == false){
   		//console.log("ansSet", ansSet,document.getElementById('__lz0').contentWindow.accomPkg.isContentLoaded());
   			document.getElementById('__lz0').contentWindow.accomPkg.setState(htmlContent,jsonContent,checkedVals);
   			ansSet = true;
   		}
   	}
  	}          
  }
  
  function setItemId(itemId){
  	//console.log("itemSet", itemSet);
iframeState();
   	if (itemSet == false){
   	lz.embed.setCanvasAttribute('srcurl',itemId);
   	iid = itemId;
   	itemSet = true;
   		
   	}
  }
  
    function loginBlock(ref){
  		             setTimeout(function(){
                    	ref.login();
                    }, 200);  		
  }
  function stepNavigateBackBlock(ref){
  		             setTimeout(function(){
                    	ref.stepNavigateBack();
                    }, 200);  		
  }
  
  function stepNavigateForwardBlock(ref){
  		             setTimeout(function(){
                    	ref.stepNavigateForward();
                    }, 200);  		
  }
  
  function navigateFromItemBlock(ref){
  		             setTimeout(function(){
                    	ref.navigateFromItem();
                    }, 200);  		
  }
//-->
</SCRIPT>
</HEAD>

<BODY topmargin=0 leftmargin=0 rightmargin=0 bottommargin=0 scroll=no bgcolor="#6691B4" >
<button id="mybutton" style="visibility:hidden; width:0px; height:0px;">clickMe </button>

<div id="lzsplash" style="z-index: 10000000; top: 0; left: 0; width: 100%; height: 100%; position: fixed; display: table">
<p style="display: table-cell; vertical-align: middle;"></p></div>
<div id="appcontainer">
			<script type="text/javascript" defer>
                  lz.embed.dhtml({url: 'TestClient.lzx.js?folder=calif&servletUrl=http://192.168.15.33:12345/servlet/fixed', lfcurl: 'lps/includes/lfc/LFCdhtml.js', serverroot: 'lps/resources/', bgcolor: '#6691b4', width: '400px', height: '400px', id: 'lzapp', accessible: 'true', cancelmousewheel: false, cancelkeyboardcontrol: false, skipchromeinstall: false, usemastersprite: false, approot: '', appenddivid: 'appcontainer'});
                  // lz.embed.dhtml({url: 'TestClient.lzx.js?servletUrl=/servlet', lfcurl: 'lps/includes/lfc/LFCdhtml.js', serverroot: 'lps/resources/', bgcolor: '#6691b4', width: '100%', height: '100%', id: 'lzapp', accessible: 'true', cancelmousewheel: false, cancelkeyboardcontrol: false, skipchromeinstall: false, usemastersprite: false, approot: '', appenddivid: 'appcontainer'});
                  lz.embed.applications.lzapp.onload = function loaded() {
                    // called when this application is done loading
                    var el = document.getElementById('lzsplash');
                    if (el.parentNode) {
                        el.parentNode.removeChild(el);
                    }
                  }
                </script>
            <noscript>
                Please enable JavaScript in order to use this application.
            </noscript>
        </div>
	<OBJECT ID="LDBJSBridgeCTL" CLASSID="CLSID:56871AC2-4683-4D8E-B5EB-E7E3AA40DD52" VIEWASTEXT WIDTH=0 HEIGHT = 0></OBJECT>
</BODY>
</HTML>
